# Orchestration Log: Chewie

**Timestamp:** 2026-02-27T01:43:36Z  
**Agent:** Chewie (DevOps/Infra)  
**Status:** ✅ Completed

## Tasks Executed

1. **AppHost.cs**: Removed `.WithDataVolume()` from Keycloak resource definition
   - Ensures realm JSON is freshly imported on every Aspire restart
   - Eliminates "already exists, import skipped" issue

2. **camplog-realm.json**: Added `oidc-audience-mapper` to `camplog-web` client
   - Injects `"aud": ["camplog-web"]` into JWT access tokens
   - Resolves API JWT Bearer validation failures (401 Unauthorized)

## Outcomes

✅ Realm configuration now applies consistently on Aspire restarts  
✅ JWT tokens include required `camplog-web` audience claim  
✅ Keycloak realm state resets on each dev restart (desired for declarative config)

## Related Decisions

- `.squad/decisions/chewie-keycloak-realm-fix.md`
- `.squad/decisions/chewie-test-user.md`

---

**Next:** Luke (Remove UseHttpsRedirection from API)
