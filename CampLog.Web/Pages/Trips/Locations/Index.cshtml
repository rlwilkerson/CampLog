@page "{tripId:guid}"
@model CampLog.Web.Pages.Trips.Locations.IndexModel
@{
    ViewData["Title"] = "Trip Locations";
}

<section class="page-header">
    <h1>Locations</h1>
    <p>Manage each place visited on this trip.</p>
    <small class="page-meta">@Model.Locations.Count location@(Model.Locations.Count == 1 ? "" : "s")</small>
    <a role="button" asp-page="/Trips/Locations/Create" asp-route-tripId="@Model.TripId">Add Location</a>
</section>

@if (Model.Locations.Count == 0)
{
    <article class="empty-state">
        <p>No locations yet.</p>
    </article>
}
else
{
    <div class="location-list">
        @foreach (var location in Model.Locations)
        {
            <article class="location-item">
                <h3>@location.Name</h3>
                <p>@(location.Description ?? "No description")</p>
                <div class="meta-list">
                    <small><strong>Dates</strong><span>@(location.StartDate?.ToString("yyyy-MM-dd") ?? "-") to @(location.EndDate?.ToString("yyyy-MM-dd") ?? "-")</span></small>
                    <small><strong>GPS</strong><span>@(location.Latitude?.ToString() ?? "-"), @(location.Longitude?.ToString() ?? "-")</span></small>
                </div>
                <footer class="inline-actions">
                    <a role="button" class="secondary outline" asp-page="/Trips/Locations/Edit" asp-route-tripId="@Model.TripId" asp-route-id="@location.Id">Edit</a>
                    <a role="button" class="contrast outline" asp-page="/Trips/Locations/Delete" asp-route-tripId="@Model.TripId" asp-route-id="@location.Id">Delete</a>
                </footer>
            </article>
        }
    </div>
}
